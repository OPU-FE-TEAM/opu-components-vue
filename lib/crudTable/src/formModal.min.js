"use strict";var _interopRequireDefault=require("D:/OpenSource/OPU/opu-components-vue/node_modules/@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _objectSpread2=_interopRequireDefault(require("D:/OpenSource/OPU/opu-components-vue/node_modules/@babel/runtime/helpers/esm/objectSpread2")),_conf=_interopRequireDefault(require("../conf")),_dataForm=require("../../dataForm"),_default={name:"FormModal",components:{DataForm:_dataForm.DataForm},props:{form:{type:Object,required:!0},modal:Object},data:function(){return{visible:!1,loading:!1,confirmLoading:!1,readonly:!1,title:""}},computed:{modalOpt:function(){var e=this.modal;return e&&e.props?(0,_objectSpread2.default)((0,_objectSpread2.default)({},_conf.default.modal.props),e.props):_conf.default.modal.props},formOpt:function(){var e=this.form;return e&&e.props?(0,_objectSpread2.default)((0,_objectSpread2.default)({},_conf.default.form.props),e.props):_conf.default.form.props}},methods:{show:function(e){this.loading=!0,this.visible=!0,this.confirmLoading=!0,this.$nextTick(e)},setLoading:function(e){this.loading=e,this.confirmLoading=e},setFormData:function(e){this.$refs.form&&this.$refs.form.setData(e),this.loading=!1,this.confirmLoading=!1},onCancel:function(){this.visible=!1,this.$emit("cancel")},onSubmit:function(){var t=this;this.$refs.form.validateFields().then(function(e){t.$emit("submit",e),t.visible=!1})},setReadonly:function(e){this.readonly=e},setTitle:function(e){this.title=e}},render:function(e){var t=this.modalOpt,o=this.formOpt,i=this.visible,r=this.onSubmit,a=this.onCancel,n=this.loading,s=this.confirmLoading,d=this.$scopedSlots,l=this.readonly,p=this.title,u={props:(0,_objectSpread2.default)((0,_objectSpread2.default)({width:800},t),{},{title:p||t.title,confirmLoading:s,visible:i}),on:{cancel:a,ok:r},class:"crud-table-form-modal"};return l&&(u.props.okButtonProps={style:{display:"none"}}),e("a-modal",u,[e("a-spin",{props:{spinning:n}},[e("data-form",{ref:"form",props:(0,_objectSpread2.default)((0,_objectSpread2.default)({},o),{},{readonly:l}),class:"crud-table-form",scopedSlots:d})])])}};exports.default=_default;