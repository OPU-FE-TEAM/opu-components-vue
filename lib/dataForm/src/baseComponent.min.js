"use strict";var _interopRequireDefault=require("D:/OpenSource/OPU/opu-components-vue/node_modules/@babel/runtime/helpers/interopRequireDefault");require("core-js/modules/es.array.concat"),require("core-js/modules/es.array.index-of"),require("core-js/modules/es.array.map"),require("core-js/modules/es.number.constructor"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.string.split"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _objectSpread2=_interopRequireDefault(require("D:/OpenSource/OPU/opu-components-vue/node_modules/@babel/runtime/helpers/esm/objectSpread2")),_utils=_interopRequireDefault(require("../../utils")),_default={name:"baseComponent",components:{},props:{renderName:{type:String,default:"a-input"},value:[Number,String,Object,Array],valueField:String,labelField:String,dataField:String,options:Array,componentPropsData:Object},model:{prop:"value",event:"update"},data:function(){return{}},computed:{componentProps:function(){var a=this,e=this.$listeners,t=this.$options,r=this.componentPropsData,n=this.value,o=t.propsData,u={};_utils.default.each(e,function(e,n){u[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.$emit.apply(a,[n].concat(t))}});var i=n;return n&&_utils.default.isNumber(n)?i=n+"":n&&_utils.default.isArray(n)&&(i=n.map(function(e){return e+""})),{props:(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({},r),o),{},{value:i}),on:(0,_objectSpread2.default)((0,_objectSpread2.default)({},u),{},{change:this.updateValue})}}},created:function(){},methods:{updateValue:function(e){this.$emit("update",e),this.$emit("change",e)},focus:function(){var e=this.renderName,a=this.componentProps,t=this,r=this.$refs.inputComponent;r.focus();var n=r.$el;if("a-date-picker"===e){var o=n.getElementsByClassName("ant-calendar-picker-input");o&&o.length&&o[0].click(),setTimeout(function(){var e=document.getElementsByClassName("ant-calendar-input");e&&e.length&&(e[0].selectionStart=0,e[0].selectionEnd=e[0].value.length,e[0].addEventListener("keyup",function(e){"Enter"===e.key&&(e.stopPropagation(),console.log(666),t.$emit("inputPressEnter"))}),e[0].oninput=function(e){if(e.target.value&&"deleteContentBackward"!==e.inputType){var t=e.target.value,r="-";if(a.props&&a.props.format&&(r=a.props.format.split("")[4]),4===t.length&&t.indexOf(r)<0?e.target.value=t+r:7===t.length&&-1<t.indexOf(r)&&2===t.split(r).length&&(e.target.value=t+r),a.props&&a.props.showTime){var n=":";a.props&&a.props.format&&(n=a.props.format.split("")[13]),10===t.length&&t.indexOf(" ")<0?e.target.value=t+" ":13===t.length&&t.indexOf(n)<0?e.target.value=t+n:16===t.length&&-1<t.indexOf(n)&&2===t.split(n).length&&(e.target.value=t+n)}}})},100)}}},render:function(e){var t=this.renderName,r=this.componentProps;return e(t,{ref:"inputComponent",props:(0,_objectSpread2.default)({},r.props),on:(0,_objectSpread2.default)({},r.on)},[])}};exports.default=_default;